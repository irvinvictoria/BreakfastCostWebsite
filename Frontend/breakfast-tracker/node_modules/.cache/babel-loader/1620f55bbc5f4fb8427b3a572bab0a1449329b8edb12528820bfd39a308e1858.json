{"ast":null,"code":"import React,{useRef}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddUserPage(){const inputEeid=useRef();const inputFirst=useRef();const inputLast=useRef();const inputCompany=useRef();const deleteEeid=useRef();// Adds a new employee to the database\nfunction addUser(e){e.preventDefault();const form=e.target;const formData=new FormData(form);const eeid=Number(formData.get('Eeid'));const firstname=formData.get('FirstName').trim();const lastname=formData.get('LastName').trim();const company=formData.get('Company').trim();if(eeid==\"\"||firstname==\"\"||lastname==\"\"){alert(\"Please make sure all information is filled out.\");}else{// Calls Backend if they entered \nconst emp={'Eeid':eeid,\"FirstName\":firstname,\"LastName\":lastname,'Company':company};axios.post('http://192.168.1.25:3001/AddEmployee',emp).then(res=>{alert(\"User was successfully added!\");inputEeid.current.value='';inputFirst.current.value='';inputLast.current.value='';inputCompany.current.value='';}).catch(err=>{console.log(err);var errMsg=err['request']['response'];alert(errMsg);});}}//Deletes an employee from the database along with their purchases\nfunction deleteUser(e){e.preventDefault();const form=e.target;const formData=new FormData(form);const eeid=Number(formData.get('DeleteEeid'));if(eeid==0){alert(\"Please enter a valid employee ID number\");}else{const emp={'Eeid':eeid};axios.delete('http://192.168.1.25:3001/deleteEmployee/'+eeid).then(res=>{alert('Employee was deleted!');deleteEeid.current.value='';}).catch(err=>{console.log(err);var errMsg=err['request']['response'];alert(errMsg);});}}// Gets/Downloads the employee list from the database\nfunction getEmployees(e){e.preventDefault();axios.get('http://192.168.1.25:3001/getEmployeeReport',{responseType:'blob'}).then(res=>{const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download','Employees.xlsx');document.body.appendChild(link);link.click();link.remove();}).catch(err=>{console.log(err);alert(\"Could not create report\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"addUserArea\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Employee\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addUser,children:[/*#__PURE__*/_jsx(\"input\",{name:\"Eeid\",id:\"Eeid\",type:\"number\",ref:inputEeid,pattern:\"[0-9]*\",placeholder:\"EEID\",inputMode:\"numeric\",min:\"0\"}),/*#__PURE__*/_jsx(\"input\",{name:\"FirstName\",id:\"FirstName\",ref:inputFirst,type:\"text\",placeholder:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"LastName\",id:\"LastName\",ref:inputLast,type:\"text\",placeholder:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"Company\",id:\"Company\",ref:inputCompany,type:\"text\",placeholder:\"Company\"}),/*#__PURE__*/_jsx(\"button\",{id:\"addEmployeeButton\",children:\"Add Employee\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Employee\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:deleteUser,children:[/*#__PURE__*/_jsx(\"input\",{name:\"DeleteEeid\",id:\"DeleteEeid\",ref:deleteEeid,type:\"number\",pattern:\"[0-9]*\",inputMode:\"numeric\",min:\"1\",placeholder:\"EEID to Delete\"}),/*#__PURE__*/_jsx(\"button\",{id:\"deleteEmployeeButton\",children:\"Delete Employee\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:getEmployees,children:/*#__PURE__*/_jsx(\"button\",{id:\"getEmployees\",children:\"Get Employee List\"})})]});}export default AddUserPage;","map":{"version":3,"names":["React","useRef","axios","jsx","_jsx","jsxs","_jsxs","AddUserPage","inputEeid","inputFirst","inputLast","inputCompany","deleteEeid","addUser","e","preventDefault","form","target","formData","FormData","eeid","Number","get","firstname","trim","lastname","company","alert","emp","post","then","res","current","value","catch","err","console","log","errMsg","deleteUser","delete","getEmployees","responseType","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","remove","className","children","onSubmit","name","id","type","ref","pattern","placeholder","inputMode","min"],"sources":["C:/Users/WebAdmin/Documents/EmployeeBreakfastTracker/Frontend/breakfast-tracker/src/AddUserPage/AddUserPage.js"],"sourcesContent":["import React, { useRef } from 'react'\r\nimport axios from 'axios';\r\n\r\n\r\nfunction AddUserPage() {\r\n\r\n  const inputEeid = useRef();\r\n  const inputFirst = useRef();\r\n  const inputLast = useRef();\r\n  const inputCompany = useRef();\r\n  const deleteEeid = useRef();\r\n\r\n\r\n  // Adds a new employee to the database\r\n  function addUser(e) {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n    const eeid = Number(formData.get('Eeid'));\r\n    const firstname = formData.get('FirstName').trim();\r\n    const lastname = formData.get('LastName').trim();\r\n    const company = formData.get('Company').trim();\r\n\r\n    if(eeid == \"\" || firstname == \"\" || lastname == \"\"){\r\n      alert(\"Please make sure all information is filled out.\")\r\n    }\r\n    else{\r\n      // Calls Backend if they entered \r\n      const emp = {'Eeid': eeid, \"FirstName\": firstname, \"LastName\": lastname, 'Company': company};\r\n      axios.post('http://192.168.1.25:3001/AddEmployee', emp)\r\n      .then(res => {\r\n        alert(\"User was successfully added!\");\r\n        inputEeid.current.value = '';\r\n        inputFirst.current.value = '';\r\n        inputLast.current.value = '';\r\n        inputCompany.current.value = '';\r\n      }).catch(err => {\r\n        console.log(err)\r\n        var errMsg = err['request']['response'];\r\n        alert(errMsg);\r\n      });\r\n    }\r\n  }\r\n\r\n  //Deletes an employee from the database along with their purchases\r\n  function deleteUser(e){\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n    const eeid = Number(formData.get('DeleteEeid'));\r\n    if(eeid == 0){\r\n      alert(\"Please enter a valid employee ID number\");\r\n    }\r\n    else{\r\n      const emp = {'Eeid':eeid};\r\n      axios.delete('http://192.168.1.25:3001/deleteEmployee/' + eeid)\r\n      .then(res => {\r\n          alert('Employee was deleted!');\r\n          deleteEeid.current.value = '';\r\n      })\r\n      .catch(err => {\r\n          console.log(err);\r\n          var errMsg = err['request']['response'];\r\n          alert(errMsg);\r\n      });\r\n    }\r\n  }\r\n\r\n  // Gets/Downloads the employee list from the database\r\n  function getEmployees(e){\r\n    e.preventDefault();\r\n    axios.get('http://192.168.1.25:3001/getEmployeeReport', {responseType:'blob'})\r\n      .then(res => {\r\n        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', 'Employees.xlsx');\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.remove();\r\n      })\r\n      .catch(err =>{\r\n        console.log(err);\r\n        alert(\"Could not create report\")\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='addUserArea'>\r\n        <h1>Add Employee</h1>\r\n        <form onSubmit={addUser}>\r\n            <input name='Eeid' id='Eeid' type='number' ref={inputEeid} pattern='[0-9]*' placeholder='EEID' inputMode='numeric' min='0'></input>\r\n            <input name='FirstName' id='FirstName' ref={inputFirst} type='text' placeholder='First Name'></input>\r\n            <input name='LastName' id='LastName' ref={inputLast} type='text' placeholder='Last Name'></input>\r\n            <input name='Company' id='Company' ref={inputCompany} type='text' placeholder='Company'></input>\r\n            <button id='addEmployeeButton'>Add Employee</button>\r\n        </form>\r\n\r\n        <h1>Delete Employee</h1>\r\n        <form onSubmit={deleteUser}>\r\n            <input name='DeleteEeid' id='DeleteEeid' ref={deleteEeid} type='number' pattern='[0-9]*' inputMode='numeric' min='1' placeholder='EEID to Delete'></input>\r\n            <button id='deleteEmployeeButton'>Delete Employee</button>\r\n        </form>\r\n\r\n        <form onSubmit={getEmployees}>\r\n            <button id='getEmployees'>Get Employee List</button>\r\n        </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddUserPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}