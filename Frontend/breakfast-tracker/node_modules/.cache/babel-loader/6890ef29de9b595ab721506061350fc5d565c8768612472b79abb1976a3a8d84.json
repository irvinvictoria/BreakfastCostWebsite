{"ast":null,"code":"import React,{useRef}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReportsPage(){const inputDateFrom=useRef();const inputDateTo=useRef();const inputCompany=useRef();// Calls the backend to download the report\nfunction getReport(){const dateFrom=inputDateFrom.current.value;const dateTo=inputDateTo.current.value;const company=inputCompany.current.value;if(dateFrom==\"\"||dateTo==\"\"){alert(\"Please select desired dates.\");}else{const filter={'dateFrom':dateFrom,'dateTo':dateTo,'company':company};axios.get('http://192.168.1.25:3001/getReport',{params:filter,responseType:'blob'}).then(res=>{const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',company+'-Report'+dateFrom+'TO'+dateTo+'.xlsx');document.body.appendChild(link);link.click();link.remove();}).catch(err=>{console.log(err);alert(\"Could not create report\");});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"reportMainArea\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reports page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectDatesArea\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{htmlFor:\"Select Company\",children:\"Select Company\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"company\",id:\"company\",ref:inputCompany,children:[/*#__PURE__*/_jsx(\"option\",{value:\"MLC\",children:\"MLC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MDR\",children:\"MDR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DL\",children:\"DL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"VF\",children:\"VF\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SS\",children:\"SS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CH\",children:\"CH\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dateFromArea\",children:[/*#__PURE__*/_jsx(\"h2\",{htmlFor:\"dateFrom\",children:\"Date From\"}),/*#__PURE__*/_jsx(\"input\",{ref:inputDateFrom,name:\"dateFrom\",id:\"dateFrom\",type:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dateToArea\",children:[/*#__PURE__*/_jsx(\"h2\",{htmlFor:\"dateTo\",children:\"Date To\"}),/*#__PURE__*/_jsx(\"input\",{ref:inputDateTo,id:\"dateTo\",type:\"date\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:getReport,id:\"createReportButton\",children:\"Create Report\"})]})]});}export default ReportsPage;","map":{"version":3,"names":["React","useRef","axios","jsx","_jsx","jsxs","_jsxs","ReportsPage","inputDateFrom","inputDateTo","inputCompany","getReport","dateFrom","current","value","dateTo","company","alert","filter","get","params","responseType","then","res","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","remove","catch","err","console","log","className","children","htmlFor","name","id","ref","type","onClick"],"sources":["C:/Users/WebAdmin/Documents/EmployeeBreakfastTracker/Frontend/breakfast-tracker/src/ReportsPage/ReportsPage.js"],"sourcesContent":["import React, { useRef } from 'react'\r\nimport axios from 'axios';\r\n\r\nfunction ReportsPage() {\r\n  const inputDateFrom = useRef();\r\n  const inputDateTo = useRef();\r\n  const inputCompany = useRef();\r\n\r\n  // Calls the backend to download the report\r\n  function getReport() {\r\n    const dateFrom = inputDateFrom.current.value;\r\n    const dateTo = inputDateTo.current.value;\r\n    const company = inputCompany.current.value;\r\n    if(dateFrom == \"\" || dateTo == \"\"){\r\n      alert(\"Please select desired dates.\");\r\n    }\r\n    else{\r\n      const filter = {'dateFrom':dateFrom, 'dateTo':dateTo, 'company':company};\r\n      axios.get('http://192.168.1.25:3001/getReport', {params: filter, responseType:'blob'})\r\n      .then(res => {\r\n        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', company+'-Report'+dateFrom+'TO'+dateTo+'.xlsx');\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.remove();\r\n      })\r\n      .catch(err =>{\r\n        console.log(err);\r\n        alert(\"Could not create report\")\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='reportMainArea'>\r\n        <h1>Reports page</h1>\r\n        <div className='selectDatesArea'>\r\n            <div>\r\n                <h2 htmlFor='Select Company'>Select Company</h2>\r\n                <select name='company' id='company' ref={inputCompany}>\r\n                    <option value={\"MLC\"}>MLC</option>\r\n                    <option value={\"MDR\"}>MDR</option>\r\n                    <option value={\"DL\"}>DL</option>\r\n                    <option value={\"VF\"}>VF</option>\r\n                    <option value={\"SS\"}>SS</option>\r\n                    <option value={\"CH\"}>CH</option>\r\n                </select>\r\n            </div>\r\n            <div className='dateFromArea'>\r\n                <h2 htmlFor=\"dateFrom\">Date From</h2>\r\n                <input ref={inputDateFrom} name='dateFrom' id='dateFrom' type='date'></input>\r\n            </div>\r\n           <div className='dateToArea'>\r\n                <h2 htmlFor=\"dateTo\">Date To</h2>\r\n                <input ref={inputDateTo} id='dateTo' type='date'></input>\r\n           </div>\r\n            <button onClick={getReport} id='createReportButton'>Create Report</button>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}